<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Master: Полный курс</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Professional Slate & Indigo -->
    <!-- Application Structure: 
         1. Introduction (Philosophy)
         2. Variables (Deep dive into types)
         3. Logic (If/Else with AND/OR)
         4. Lists (Methods, indices, visual representation)
         5. Loops Basics (For Each vs Range)
         6. DEEP DIVE: Indices & len-1 logic (Visual Error simulation)
         7. Slicing (Data extraction)
         8. Functions (Return vs Print, Scope)
    -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="flex flex-col lg:flex-row min-h-screen">
        <!-- Навигация -->
        <nav id="sidebar" class="w-full lg:w-72 lg:h-screen lg:fixed top-0 left-0 bg-white border-r border-slate-200 p-6 overflow-y-auto z-20 shadow-lg">
            <div class="mb-10">
                <h2 class="text-3xl font-extrabold text-indigo-700 tracking-tight">Python <span class="text-slate-800">Master</span></h2>
                <p class="text-xs text-slate-500 mt-2 font-medium uppercase tracking-wide">Интерактивный учебник</p>
            </div>
            <ul class="space-y-1 text-sm font-medium">
                <li><a href="#sec1" class="nav-link block py-3 px-4 rounded hover:bg-slate-50 transition">1. Введение и Философия</a></li>
                <li><a href="#sec2" class="nav-link block py-3 px-4 rounded hover:bg-slate-50 transition">2. Переменные и Типы</a></li>
                <li><a href="#sec3" class="nav-link block py-3 px-4 rounded hover:bg-slate-50 transition">3. Логика (If/Else/And)</a></li>
                <li><a href="#sec4" class="nav-link block py-3 px-4 rounded hover:bg-slate-50 transition">4. Списки: База</a></li>
                <li><a href="#sec5" class="nav-link block py-3 px-4 rounded hover:bg-slate-50 transition">5. Циклы: For и Range</a></li>
                <li><a href="#sec6" class="nav-link block py-3 px-4 rounded hover:bg-slate-50 transition text-indigo-700 bg-indigo-50 border border-indigo-100">6. PRO: Индексы и Границы</a></li>
                <li><a href="#sec7" class="nav-link block py-3 px-4 rounded hover:bg-slate-50 transition">7. Срезы (Slicing)</a></li>
                <li><a href="#sec8" class="nav-link block py-3 px-4 rounded hover:bg-slate-50 transition">8. Функции (Def)</a></li>
            </ul>
        </nav>

        <!-- Контент -->
        <main class="lg:ml-72 p-6 lg:p-16 w-full max-w-6xl mx-auto">
            
            <header class="mb-20 border-b pb-10">
                <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight">Погружение в <span class="text-indigo-600">Python</span></h1>
                <p class="text-xl text-slate-600 max-w-3xl leading-relaxed">Это полное руководство. Мы пройдем путь от создания переменной до написания сложных алгоритмов обработки списков, избегая главных ловушек новичков.</p>
            </header>

            <!-- 1. Введение -->
            <section id="sec1" class="mb-24">
                <div class="flex items-center mb-8">
                    <div class="bg-indigo-600 text-white w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold mr-5 shadow-lg">1</div>
                    <h2 class="text-3xl font-bold text-slate-900">Почему Python?</h2>
                </div>
                <p class="mb-6 text-lg leading-relaxed text-slate-700">Python называют языком с "низким порогом входа". Это значит, что вы начнете писать полезный код уже в первый час, а не через неделю настроек.</p>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                        <h3 class="font-bold text-lg mb-4 text-indigo-900">Магия синтаксиса</h3>
                        <p class="text-slate-600 mb-4">В Python нет фигурных скобок <code>{}</code> для блоков кода. Вместо этого используются <strong>отступы</strong> (Tab или 4 пробела). Это заставляет код выглядеть чисто.</p>
                        <code class="block bg-slate-100 p-3 rounded text-slate-800 font-mono text-sm">
                            if True:<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;print("Я внутри блока")<br>
                            print("Я снаружи")
                        </code>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                        <h3 class="font-bold text-lg mb-4 text-indigo-900">Интерпретация</h3>
                        <p class="text-slate-600">Python читает код сверху вниз, строку за строкой. Это позволяет находить ошибки сразу в конкретной строке, не компилируя весь проект целиком.</p>
                    </div>
                </div>
            </section>

            <!-- 2. Переменные -->
            <section id="sec2" class="mb-24">
                <div class="flex items-center mb-8">
                    <div class="bg-indigo-600 text-white w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold mr-5 shadow-lg">2</div>
                    <h2 class="text-3xl font-bold text-slate-900">Переменные: Глубокое понимание</h2>
                </div>
                <p class="mb-6 text-lg text-slate-700">В Python переменная — это не коробка, а "стикер", который мы клеим на объект в памяти. Типы данных определяются автоматически.</p>

                <div class="bg-blue-50 p-6 rounded-xl border-l-4 border-blue-500 mb-8">
                    <h4 class="font-bold text-blue-900 mb-2">f-строки (f-strings)</h4>
                    <p class="text-blue-800">Начиная с Python 3.6, самый удобный способ вставить переменную в текст — поставить букву <code>f</code> перед кавычками и писать переменные в <code>{}</code>.</p>
                </div>

                <div class="code-container border rounded-xl overflow-hidden shadow-xl" data-output-target="#out-vars">
                    <div class="bg-slate-800 text-slate-400 text-xs px-4 py-2 flex justify-between font-mono">
                        <span>variables_demo.py</span>
                    </div>
                    <pre class="code-block p-6 overflow-x-auto text-sm"><code class="language-python">item = "Игровой Монитор"   # str
price_usd = 400            # int
rate = 92.5                # float
in_stock = True            # bool

# Конвертация валют
price_rub = price_usd * rate

print(f"Товар: {item}")
print(f"Цена в рублях: {price_rub}")
print(f"Есть в наличии? {in_stock}")
print(f"Тип данных rate: {type(rate)}")</code></pre>
                    <div class="bg-slate-900 p-3 flex justify-end">
                        <button class="run-btn bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-lg transition-colors">▶ Запустить</button>
                    </div>
                    <pre id="out-vars" class="output-console text-green-400 font-mono p-4 text-sm whitespace-pre-wrap">Ожидание...</pre>
                </div>
            </section>

            <!-- 3. Логика -->
            <section id="sec3" class="mb-24">
                <div class="flex items-center mb-8">
                    <div class="bg-indigo-600 text-white w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold mr-5 shadow-lg">3</div>
                    <h2 class="text-3xl font-bold text-slate-900">Логика и Ветвления</h2>
                </div>
                <p class="mb-4 text-lg text-slate-700">Программа не всегда идет прямо. Иногда нужно свернуть.</p>
                <ul class="list-disc list-inside mb-6 text-slate-600 ml-4 space-y-2">
                    <li><code>if</code>: Если условие верно.</li>
                    <li><code>elif</code>: Иначе, если верно другое условие.</li>
                    <li><code>else</code>: Во всех остальных случаях.</li>
                    <li><code>and</code> / <code>or</code>: Для сложных условий (И / ИЛИ).</li>
                </ul>

                <div class="bg-yellow-50 p-6 rounded-2xl border border-yellow-200 mb-6">
                    <h3 class="font-bold text-yellow-900 mb-3">Интерактив: Калькулятор Скидок</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-bold text-yellow-800 mb-1">Сумма заказа:</label>
                            <input type="number" id="order-sum" value="3500" class="w-full p-3 border rounded-lg outline-none focus:ring-2 focus:ring-yellow-500">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-yellow-800 mb-1">Есть карта лояльности?</label>
                            <select id="loyalty-card" class="w-full p-3 border rounded-lg outline-none focus:ring-2 focus:ring-yellow-500">
                                <option value="yes">Да, есть карта</option>
                                <option value="no">Нет карты</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="code-container border rounded-xl overflow-hidden shadow-xl" data-output-target="#out-logic" data-interactive-id="discount-calc">
                    <pre class="code-block p-6 overflow-x-auto text-sm"><code class="language-python"># Логика расчета
# Если сумма > 5000 ИЛИ есть карта лояльности -> Скидка 10%
# Иначе -> Скидка 0%

if amount > 5000 or has_card == "yes":
    discount = 0.10  # 10%
    reason = "Скидка применена!"
else:
    discount = 0
    reason = "Нет оснований для скидки"

final = amount * (1 - discount)
print(reason)
print(f"К оплате: {final}")</code></pre>
                    <div class="bg-slate-900 p-3 flex justify-end">
                        <button class="run-btn bg-yellow-500 hover:bg-yellow-600 text-black font-medium py-2 px-6 rounded-lg transition-colors" data-interactive-id="discount-calc">Рассчитать</button>
                    </div>
                    <pre id="out-logic" class="output-console text-green-400 font-mono p-4 text-sm whitespace-pre-wrap">Ожидание ввода...</pre>
                </div>
            </section>

            <!-- 4. Списки -->
            <section id="sec4" class="mb-24">
                <div class="flex items-center mb-8">
                    <div class="bg-indigo-600 text-white w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold mr-5 shadow-lg">4</div>
                    <h2 class="text-3xl font-bold text-slate-900">Списки (Lists)</h2>
                </div>
                <p class="mb-6 text-lg text-slate-700">Список — это упорядоченная коллекция. Это как вагончики поезда, у каждого вагона есть свой номер (индекс).</p>
                
                <div class="overflow-hidden rounded-xl border border-slate-200 mb-8">
                    <table class="w-full text-left text-sm text-slate-600">
                        <thead class="bg-slate-100 text-slate-800 font-bold">
                            <tr>
                                <th class="p-4">Операция</th>
                                <th class="p-4">Код</th>
                                <th class="p-4">Описание</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                            <tr><td class="p-4">Создать</td><td class="p-4 font-mono">lst = [1, 2, 3]</td><td class="p-4">Квадратные скобки</td></tr>
                            <tr><td class="p-4">Добавить</td><td class="p-4 font-mono">lst.append(4)</td><td class="p-4">Добавляет в КОНЕЦ списка</td></tr>
                            <tr><td class="p-4">Взять</td><td class="p-4 font-mono">x = lst[0]</td><td class="p-4">Берет первый элемент (индекс 0)</td></tr>
                            <tr><td class="p-4">Длина</td><td class="p-4 font-mono">len(lst)</td><td class="p-4">Количество элементов</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="code-container border rounded-xl overflow-hidden shadow-xl" data-output-target="#out-lists">
                    <pre class="code-block p-4 text-sm"><code class="language-python">fruits = ["Яблоко", "Банан", "Вишня"]

print(f"Вначале: {fruits}")

fruits.append("Апельсин") # Добавили в конец
fruits[1] = "ГРУША"       # Заменили Банан (индекс 1) на Грушу

print(f"Теперь: {fruits}")
print(f"Всего фруктов: {len(fruits)}")</code></pre>
                    <div class="bg-slate-900 p-2 flex justify-end">
                        <button class="run-btn bg-gray-600 hover:bg-gray-500 text-white text-xs py-1 px-4 rounded">Run</button>
                    </div>
                    <pre id="out-lists" class="output-console text-green-400 font-mono p-3 text-xs">Waiting...</pre>
                </div>
            </section>

            <!-- 5. Циклы -->
            <section id="sec5" class="mb-24">
                <div class="flex items-center mb-8">
                    <div class="bg-indigo-600 text-white w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold mr-5 shadow-lg">5</div>
                    <h2 class="text-3xl font-bold text-slate-900">Циклы (Loops)</h2>
                </div>
                <p class="mb-6 text-lg text-slate-700">В Python циклы работают не так, как в старых языках (C/Pascal). У нас есть два пути.</p>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="font-bold text-indigo-600 mb-2 text-xl">1. For Each (Для каждого)</h3>
                        <p class="text-sm text-slate-600 mb-3">Самый простой способ. Мы просто берем предметы из списка по очереди.</p>
                        <code class="block bg-slate-100 p-2 rounded mb-2 font-mono text-sm">for car in cars:<br>&nbsp;&nbsp;print(car)</code>
                        <p class="text-xs text-slate-500 italic">Минус: Мы не знаем номер элемента, только его значение.</p>
                    </div>
                    <div class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="font-bold text-indigo-600 mb-2 text-xl">2. Range (По индексам)</h3>
                        <p class="text-sm text-slate-600 mb-3">Мы генерируем числа от 0 до длины списка. Это дает нам доступ к индексам <code>i</code>.</p>
                        <code class="block bg-slate-100 p-2 rounded mb-2 font-mono text-sm">for i in range(len(cars)):<br>&nbsp;&nbsp;print(i, cars[i])</code>
                        <p class="text-xs text-slate-500 italic">Плюс: Полный контроль над списком.</p>
                    </div>
                </div>
            </section>

            <!-- 6. PRO: ИНДЕКСЫ (ГЛАВНЫЙ ЗАПРОС) -->
            <section id="sec6" class="mb-24 bg-indigo-50 p-8 md:p-12 rounded-3xl shadow-xl border border-indigo-100">
                <div class="flex items-center mb-8">
                    <span class="bg-red-600 text-white w-16 h-16 rounded-2xl flex items-center justify-center text-2xl font-bold mr-6 shadow-lg shrink-0">6</span>
                    <div>
                        <h2 class="text-3xl md:text-4xl font-bold text-slate-900">PRO: Индексы и Границы</h2>
                        <p class="text-indigo-800 mt-2 font-medium">Почему программа падает с ошибкой IndexError и как этого избежать.</p>
                    </div>
                </div>

                <div class="prose max-w-none text-slate-700 text-lg mb-8">
                    <p class="mb-4">Представьте, что вы стоите в шеренге людей и держите за руку человека справа. Это алгоритм "сосед справа" (<code>i + 1</code>).</p>
                    <p class="mb-4"><strong>В чем проблема?</strong> Если вы стоите в шеренге <strong>последним</strong>, то справа никого нет. Если вы попытаетесь схватить воздух, вы упадете (ошибка программы).</p>
                    <p>Поэтому, если список имеет длину 5 (индексы 0, 1, 2, 3, 4), мы должны остановиться на индексе <strong>3</strong>. Потому что у 3-го есть сосед (4-й), а у 4-го соседа нет.</p>
                </div>

                <div class="bg-white p-6 rounded-xl border border-red-200 mb-8 shadow-sm">
                    <h4 class="font-bold text-red-700 mb-2 text-lg">Золотое правило "Соседа справа":</h4>
                    <div class="font-mono text-xl text-slate-800 bg-slate-100 p-4 rounded-lg inline-block">
                        for i in range(len(data) - 1):
                    </div>
                    <p class="mt-2 text-sm text-slate-500">Мы вычитаем 1 из длины, чтобы цикл не доходил до последнего элемента, у которого нет пары.</p>
                </div>

                <h3 class="text-2xl font-bold text-slate-800 mb-4">Интерактивный Тренажер: "Сумма пар"</h3>
                <p class="mb-4 text-slate-600">Введите числа. Скрипт покажет, как он складывает <code>i</code> и <code>i+1</code>. Попробуйте визуально понять, где останавливается цикл.</p>
                
                <div class="mb-6">
                    <input type="text" id="array-input" value="10, 20, 30, 40, 50" class="w-full p-4 border-2 border-indigo-200 rounded-xl text-xl font-mono tracking-widest focus:border-indigo-500 outline-none shadow-sm" placeholder="1, 2, 3...">
                </div>

                <!-- Визуализация -->
                <div id="viz-container" class="bg-white p-6 rounded-xl border border-slate-200 mb-6 min-h-[120px]">
                    <p class="text-center text-slate-400 text-sm mb-4">Визуализация процесса (Нажмите "Рассчитать")</p>
                    <div class="array-viz" id="viz-array">
                        <!-- JS заполнит это -->
                        <div class="array-cell"><span class="cell-val">10</span><span class="cell-idx">0</span></div>
                        <div class="array-cell"><span class="cell-val">20</span><span class="cell-idx">1</span></div>
                        <div class="array-cell"><span class="cell-val">30</span><span class="cell-idx">2</span></div>
                    </div>
                </div>

                <div class="code-container border rounded-xl overflow-hidden shadow-xl" data-output-target="#out-hard" data-interactive-id="neighbor-sum">
                    <pre class="code-block p-6 overflow-x-auto text-sm"><code class="language-python"># Задача: Найти сумму каждого числа и его соседа справа
data = [10, 20, 30, 40, 50]

# ОШИБКА БУДЕТ ТУТ: for i in range(len(data)):
# ПРАВИЛЬНО:
for i in range(len(data) - 1):
    curr = data[i]
    next_val = data[i+1] # Если i последний, i+1 не существует!
    
    print(f"Индекс {i}: {curr} + {next_val} = {curr + next_val}")

print("Цикл завершен корректно.")</code></pre>
                    <div class="bg-slate-900 p-3 flex justify-end">
                        <button class="run-btn bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg transition-transform transform hover:scale-105 shadow-lg shadow-red-500/30" data-interactive-id="neighbor-sum">Рассчитать с визуализацией</button>
                    </div>
                    <pre id="out-hard" class="output-console text-green-400 font-mono p-4 text-sm whitespace-pre-wrap">Ожидание запуска...</pre>
                </div>
            </section>

            <!-- 7. Срезы -->
            <section id="sec7" class="mb-24">
                <div class="flex items-center mb-8">
                    <div class="bg-indigo-600 text-white w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold mr-5 shadow-lg">7</div>
                    <h2 class="text-3xl font-bold text-slate-900">Срезы (Slicing)</h2>
                </div>
                <p class="mb-4 text-lg text-slate-700">Как быстро вырезать кусок списка? Используем двоеточие.</p>
                <div class="bg-white border border-slate-200 p-4 rounded-lg inline-block font-mono text-slate-800 mb-6 shadow-sm">
                    список[ СТАРТ : СТОП : ШАГ ]
                </div>

                <div class="code-container border rounded-xl overflow-hidden shadow-xl" data-output-target="#out-slice">
                    <pre class="code-block p-6 text-sm"><code class="language-python">text = "Программирование"

# [0:4] -> индексы 0, 1, 2, 3 (4 не входит!)
print(f"Первые 4 буквы: {text[0:4]}")

# [5:] -> от 5 до конца
print(f"С 5-й буквы: {text[5:]}")

# [::-1] -> ШАГ -1 (разворот)
print(f"Наоборот: {text[::-1]}")</code></pre>
                    <div class="bg-slate-900 p-2 flex justify-end">
                        <button class="run-btn bg-gray-600 hover:bg-gray-500 text-white text-xs py-1 px-4 rounded">Run</button>
                    </div>
                    <pre id="out-slice" class="output-console text-green-400 font-mono p-4 text-xs">Waiting...</pre>
                </div>
            </section>

            <!-- 8. ФУНКЦИИ (НОВЫЙ РАЗДЕЛ) -->
            <section id="sec8" class="mb-24">
                <div class="flex items-center mb-8">
                    <div class="bg-indigo-600 text-white w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold mr-5 shadow-lg">8</div>
                    <h2 class="text-3xl font-bold text-slate-900">Функции (Functions)</h2>
                </div>
                <p class="mb-4 text-lg text-slate-700">Функция — это мини-завод. Вы загружаете в него сырье (аргументы), а он выдает готовый продукт (return).</p>
                
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="bg-green-50 p-6 rounded-xl border border-green-200">
                        <h3 class="font-bold text-green-900 mb-2">Return (Вернуть)</h3>
                        <p class="text-sm text-green-800">Функция отдает результат программе. Его можно сохранить в переменную.</p>
                        <code class="block mt-2 font-mono text-xs bg-white p-2 rounded border">res = math_func(5)<br>print(res)</code>
                    </div>
                    <div class="bg-red-50 p-6 rounded-xl border border-red-200">
                        <h3 class="font-bold text-red-900 mb-2">Print (Напечатать)</h3>
                        <p class="text-sm text-red-800">Функция просто пишет текст на экран. Результат нельзя использовать в математике.</p>
                    </div>
                </div>

                <h3 class="text-xl font-bold text-slate-800 mb-4">Интерактив: Конвертер валют</h3>
                <div class="bg-slate-100 p-6 rounded-xl mb-6">
                    <div class="flex flex-col md:flex-row gap-4">
                        <input type="number" id="func-amount" value="1000" placeholder="Сумма в рублях" class="p-3 rounded border w-full">
                        <select id="func-currency" class="p-3 rounded border w-full">
                            <option value="USD">USD (Доллары)</option>
                            <option value="EUR">EUR (Евро)</option>
                            <option value="CNY">CNY (Юани)</option>
                        </select>
                    </div>
                </div>

                <div class="code-container border rounded-xl overflow-hidden shadow-xl" data-output-target="#out-func" data-interactive-id="currency-func">
                    <pre class="code-block p-6 overflow-x-auto text-sm"><code class="language-python">def convert_currency(rubles, currency_type):
    """Функция принимает рубли и тип валюты, возвращает сумму"""
    if currency_type == "USD":
        rate = 92.5
    elif currency_type == "EUR":
        rate = 101.2
    elif currency_type == "CNY":
        rate = 12.8
    else:
        return "Ошибка валюты"
    
    result = rubles / rate
    return round(result, 2) # Округляем до 2 знаков

# Вызов функции (используем ваши данные)
total = convert_currency(rub_amount, cur_type)
print(f"Результат обмена: {total} {cur_type}")</code></pre>
                    <div class="bg-slate-900 p-3 flex justify-end">
                        <button class="run-btn bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-lg transition-colors" data-interactive-id="currency-func">Вызвать функцию</button>
                    </div>
                    <pre id="out-func" class="output-console text-green-400 font-mono p-4 text-sm whitespace-pre-wrap">Ожидание...</pre>
                </div>
            </section>

        </main>
    </div>
    <script src="js/scripts.js"></script>
</body>
</html>